# Template file for 'smartgit'
pkgname=smartgit
version=24.1.5
revision=1
_tarver=24_1_5
archs="x86_64"
depends="git git-lfs"
short_desc="Graphical Git client"
maintainer="mobinmob <mobinmob@disroot.org>"
license="custom:proprietary"
homepage="https://www.syntevo.com/smartgit/"
changelog="https://www.syntevo.com/smartgit/changelog.txt"
# distfiles="https://download.smartgit.dev/smartgit/archive/smartgit-linux-${_tarver}.tar.gz"
distfiles="https://download.smartgit.dev/smartgit/smartgit-${_tarver}.deb"
# distfiles="https://www.syntevo.com/downloads/smartgit/smartgit-linux-${_tarver}.tar.gz"
checksum=ec1aaa99b7e4ed8652a395c9c0aef6bbd6b028886c780a400a1c45110be42b74
nopie=yes
python_version=3

do_install() {
	# Copy files
	vmkdir /usr/share/smartgit
	vcopy "*" /usr/share/smartgit/

	vmkdir /usr/share/doc
	vcopy "*" /usr/share/doc/

	# Link script in $PATH
	#vmkdir usr/bin
	#ln -s "/usr/share/smartgit/bin/smartgit.sh" %u "${DESTDIR}/usr/bin/smartgit"

	# Install icons and .desktop files
	vinstall "${FILESDIR}/syntevo-smartgit.desktop" 644 usr/share/applications/

	# Install licenses
	#vlicense license.html
	#for file in licenses/*
	#do
	#vlicense $file
	#done
}
