# Template file for 'hardinfo2'
pkgname=hardinfo2
version=2.2.13
revision=1
archs="x86_64"
makedepends="unzip"
short_desc="System Information and Benchmark for Linux Systems."
maintainer="Sofiya <@>"
license="GPL-2.0-or-later AND LGPL-2.1-or-later AND LGPL-2.0-or-later AND GPL-3.0-or-later AND LGPL-2.1-only"
homepage="https://www.hardinfo2.org"
changelog="N/A"
distfiles="https://github.com/hardinfo2/hardinfo2/archive/refs/tags/release-${version}.tar.gz"
checksum=a3dee51427aa1fe8cb33960cbb5c59471f571060758a1499d1bae022390d7ee0

do_extract() {
  unzip "${XBPS_SRCDISTDIR}/${pkgname}-${version}/hardinfo2-${version}.tar.gz" -x "cron/*" -d ${wrksrc}
}

do_install() {
  cmake -B build -S "${pkgname}-release-${version}" \
    -DCMAKE_BUILD_TYPE='RelWithDebInfo' \
    -DCMAKE_INSTALL_PREFIX='/usr' \
    -DCMAKE_INSTALL_LIBDIR='lib' \
    -Wno-dev
  cmake --build build
}

post_install() {
  vlicense LICENSE
}
