# Template file for 'smartgit'
pkgname=smartgit
version=25.1.093
revision=1
_tarver=25_1_093
archs="x86_64"
depends="git"
short_desc="Graphical Git client"
maintainer="mobinmob <mobinmob@disroot.org>"
license="custom:proprietary"
homepage="https://www.syntevo.com/smartgit/"
changelog="https://www.syntevo.com/smartgit/changelog.txt"
distfiles="https://www.syntevo.com/downloads/smartgit/smartgit-${_tarver}-linux-amd64.tar.gz"
checksum=2579eeccc1c3dc2d98fabd9d894b747e4c497de536cffb303f41eece5c08c51d
nopie=yes
python_version=3

do_install() {
	# Copy files
	vmkdir opt/smartgit
	vcopy "*" opt/smartgit/

	# Link script in $PATH
	vmkdir usr/bin
	ln -s /opt/smartgit/bin/smartgit.sh "${DESTDIR}/usr/bin/smartgit"

	# Install icons and .desktop files
	vmkdir usr/share/icons
	cp "${DESTDIR}/opt/smartgit/bin/smartgit-256.png" "${DESTDIR}/usr/share/icons/smartgit.png"
	vmkdir usr/share/applications
	vinstall "${FILESDIR}/SmartGit.desktop" 644 usr/share/applications/

	# Install licenses
	vlicense license.html
	for file in licenses/*
	do
	vlicense $file
	done
}
